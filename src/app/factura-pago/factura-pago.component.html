<!-- Seccion de prueba codigo anterior -->

<div class="card  rounded-3 p-4 bg-light">
    <div class="card-header bg-white border-bottom border-dark text-center">
      <h2 class="text-dark fw-semibold mb-0">Validación de Facturas</h2>
    </div>
  
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
        <div class="w-75">
          <label for="usuario" class="form-label fw-semibold">Tipo de Proveedor:</label>
          <select class="form-select border-dark" id="usuario" [(ngModel)]="usuarioSeleccionado" required>
            <option value="" disabled selected>Selecciona un tipo de proveedor</option>
            <option *ngFor="let user of usuarios" [value]="user.name">{{ user.name }}</option>
          </select>
        </div>
        <!-- <button class="btn btn-primary ms-3" (click)="cargarDocumentos()">Cargar Facturas Proveedor</button> -->
      </div>
    </div>
  </div>
  
  <!-- codigo anterior viejo pero funcional -->
  <!-- <div class="main-container">
      <div class="form-card shadow-lg">
        <div class="card-body">
          <h2 class="title">Carga de Facturas</h2>
    
          <form>
            <div class="form-group">
              <label for="purchase_order">Orden de Compra</label>
              <input type="text" id="purchase_order" class="form-control" placeholder="Ejemplo: OC123456" required />
            </div>
    
            <div class="form-group">
              <label for="order_file">Adjuntar Orden de Compra</label>
              <input type="file" id="order_file" class="form-control-file" accept=".pdf,.jpg,.jpeg,.png" required />
              <p class="form-text">Formatos aceptados: PDF, JPG, PNG</p>
            </div>
    
            <div class="form-group">
              <label for="invoice_file">Factura (PDF)</label>
              <input type="file" id="invoice_file" class="form-control-file" accept=".pdf" required />
              <p class="form-text">Solo se acepta formato PDF</p>
            </div>
    
            <div class="form-group">
              <label for="xml_file">Archivo XML</label>
              <input type="file" id="xml_file" class="form-control-file" accept=".xml" required />
              <p class="form-text">Solo se acepta formato XML</p>
            </div>
    
            <div class="text-center">
              <button type="submit" class="btn-submit">Subir Archivos</button>
            </div>
          </form>
        </div>
      </div>
    </div> -->
    
  
  
  
    
    
  
  
  
  
  
  
  
    <!-- codigo de prueba admin-->
  
    <div class="container-fluid mt-4 d-flex justify-content-center align-items-center">
      <div class="row w-75">
        
  
  
        <!-- Card: Carga de Facturas -->
      <div class="col-md-8">
        <div class="card rounded-3 p-4 mb-4 bg-light shadow-lg h-100">
          <div class="card-body">
            <!-- Título -->
            <h2 class="text-center text-primary mb-4">Carga de Facturas para Pago</h2>
  
            <!-- Formulario -->
            <form>
              <!-- Campo: Orden de Compra con botón de búsqueda -->
  <div class="mb-3 d-flex align-items-center">
    <div class="flex-grow-1 me-2">
      <label for="purchase_order" class="form-label fw-semibold">Orden de Compra</label>
      <input type="text" id="purchase_order" class="form-control w-75 d-inline-block" placeholder="Ingresar Orden de Compra" required />
    </div>
    <button type="button" class="btn btn-primary">
      <i class="bi bi-search"></i> Buscar
    </button>
  </div>
  
              <!-- Campo: Cargar Orden de Compra -->
              <div class="mb-3 d-flex justify-content-between align-items-center">
                <label for="order_file" class="form-label fw-semibold">Orden de Compra</label>
                <!-- Ojo para visualizar el archivo -->
                <div class="d-flex align-items-center">
                  <input type="file" id="order_file" class="form-control w-75" accept=".pdf,.jpg,.jpeg,.png" style="display:none;" required />
                  <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('order_file').click()">
                    <i class="bi bi-eye"></i> Ver Documento
                  </button>
                </div>
                <small class="form-text text-muted">Formatos aceptados: PDF, JPG, PNG</small>
              </div>
  
              <!-- Campo: Cargar Factura (PDF) -->
              <div class="mb-3 d-flex justify-content-between align-items-center">
                <label for="invoice_file" class="form-label fw-semibold">Factura (PDF)</label>
                <!-- Ojo para visualizar el archivo -->
                <div class="d-flex align-items-center">
                  <input type="file" id="invoice_file" class="form-control w-75" accept=".pdf" style="display:none;" required />
                  <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('invoice_file').click()">
                    <i class="bi bi-eye"></i> Ver Documento
                  </button>
                </div>
                <small class="form-text text-muted">Solo se acepta formato PDF</small>
              </div>
  
              <!-- Campo: Cargar XML -->
              <div class="mb-3 d-flex justify-content-between align-items-center">
                <label for="xml_file" class="form-label fw-semibold">XML</label>
                <!-- Ojo para visualizar el archivo -->
                <div class="d-flex align-items-center">
                  <input type="file" id="xml_file" class="form-control w-75" accept=".xml" style="display:none;" required />
                  <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('xml_file').click()">
                    <i class="bi bi-eye"></i> Ver Documento
                  </button>
                </div>
                <small class="form-text text-muted">Solo se acepta formato XML</small>
              </div>
  
              <!-- Botones -->
              <div class="d-flex justify-content-between gap-2">
                <!-- Botón de Descargar -->
                <button type="button" onclick="downloadFiles()" class="btn btn-success w-100">
                  <i class="fas fa-download"></i> Descargar
                </button>
  
                <!-- Botón de Aceptar -->
                <button type="button" onclick="notifyUser('accepted')" class="btn btn-primary w-100">
                  <i class="fas fa-check-circle"></i> Aceptar
                </button>
  
                <!-- Botón de Rechazar -->
                <button type="button" onclick="notifyUser('rejected')" class="btn btn-danger w-100">
                  <i class="fas fa-times-circle"></i> Rechazar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    
        <!-- Card: Nota Informativa -->
  <div class="col-md-4">
    <div class="card rounded-3 p-4 mb-4 bg-light shadow-lg h-100">
      <div class="card-body d-flex flex-column align-items-center justify-content-center text-center">
        <h5 class="card-title fw-semibold">Nota Informativa</h5>
        <p class="card-text">
          Por favor, revise cuidadosamente los documentos adjuntos antes de su carga.
          <br /><br />
          Asegúrese de que los formatos sean correctos y que toda la información coincida, especialmente la factura y el XML con la orden de compra registrada en el sistema.
        </p>
        
        <div>
          <i class="bi bi-info-circle text-primary fs-3"></i>
        </div>
      </div>
    </div>
  </div>
  
    
      </div>
    </div>
    
    <!-- Script para funcionalidad de botones scrip proveedores -->
    <!-- <script>
      function downloadFiles() {
        alert('Aquí iría la lógica para descargar los archivos.');
      }
    
      function notifyUser(status) {
        const message = status === 'accepted' 
          ? 'Documentos aceptados. Notificación enviada al usuario.' 
          : 'Documentos rechazados. Notificación enviada al usuario.';
        alert(message);
      }
    </script>
    
    <link 
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script> -->
    
    <!-- Script para previsualización de archivos -->
  <script>
    function previewFile(fileId) {
      const fileInput = document.getElementById(fileId);
      const file = fileInput.files[0];
      
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          // Aquí puedes mostrar una previsualización del archivo, por ejemplo:
          alert('Archivo seleccionado: ' + file.name);
        }
        reader.readAsDataURL(file);
      } else {
        alert('No se seleccionó un archivo');
      }
    }
  
    function downloadFiles() {
      alert('Aquí iría la lógica para descargar los archivos.');
    }
  
    function notifyUser(status) {
      const message = status === 'accepted' 
        ? 'Documentos aceptados. Notificación enviada al usuario.' 
        : 'Documentos rechazados. Notificación enviada al usuario.';
      alert(message);
    }
  </script>
  
  <!-- Agregar Bootstrap 5 y FontAwesome -->
  <link 
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>